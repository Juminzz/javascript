<!DOCTYPE html>
<html lang="ko">
<head>
    <title>이벤트 연결하기 풀이</title>
    <script>
        document.addEventListener("DOMContentLoaded",()=>{
            let counter = 0;
            const h1 = document.createElement('h1');
            const btnStart = document.createElement('button');
            const btnStop = document.createElement('button');
            const p = document.createElement('p');
            document.body.append(h1,btnStart,btnStop,p);
            h1.style.userSelect = 'none';
            h1.textContent= `클릭 횟수 0`
            btnStart.textContent = '이벤트 연결'
            btnStop.textContent = '이벤트 해제'

            // fn 변수라는걸 새로 만들어서 버튼 2개를 쓸수 있게 만듬
            const fn = event => h1.innerHTML = `클릭 횟수 : ${counter++}`

            btnStart.addEventListener('click',()=>{
                h1.addEventListener('click', fn)
                btnStart.innerHTML = '이벤트 연결 중'
                btnStop.innerHTML = '이벤트 연결 종료'
                p.innerHTML = '이벤트 연결 상태 : 연결중'
            })
            btnStop.addEventListener('click',()=>{
                h1.removeEventListener('click', fn)
                btnStart.innerHTML = '이벤트 연결'
                btnStop.innerHTML = '이벤트 연결 종료됨'
                p.innerHTML = '이벤트 연결 상태 : 종료 됨'
            })
        })
    </script>
</head>
<body>
    
</body>
</html>